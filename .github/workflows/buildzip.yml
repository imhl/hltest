name: build suss package workflow
on: 
  push:
    branches:
      - dev
jobs:
  build-suss-package:
    runs-on: ubuntu-20.04
    steps:
      - name: check out code from repo
        uses: actions/checkout@v3

      - name: setup python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      
      - name: install package dependencies
        run: |
          sudo apt-get install zip -y
          zip -R outp.zip printdir.py
          ls -l

      - name: run python code
        run: |
          python3.10 printdir.py
                  

      - name: create release
        uses: softprops/action-gh-release@v1
        if: startsWith(github.ref, 'refs/tags/')
        with:
          files: outp.zip
          #files: "dist/suss-0.0.1.tar.gz"
      